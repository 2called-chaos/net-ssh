If you ever need to tunnel an SSH connection through an obliging SOCKS4 proxy, you just need to instantiate the SOCKS4 proxy object with the appropriate parameters, and pass it in via the @:proxy@ option:

<h:code lang="ruby">
require 'net/ssh'
require 'net/ssh/proxy/socks4'

proxy = Net::SSH::Proxy::SOCKS4.new("my.proxy.com", 3125, :user => "bob")

Net::SSH.start("host.com", "bob", :proxy => proxy) do |ssh|
  # ...
end
</h:code>
