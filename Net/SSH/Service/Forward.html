<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Net::SSH::Service::Forward - net-ssh 4.0.0.rc1</title>

<link type="text/css" media="screen" href="../../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../../index.html">Home</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/net/ssh/service/forward.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="../Loggable.html">Net::SSH::Loggable</a>
  
  
  </ul>
</nav>

    <!-- Extension Modules -->
<nav id="extends-section" class="section">
  <h3 class="section-header">Extended With Modules</h3>

  <ul class="link-list">
    
  
    <li><a class="extend" href="../BufferedIo.html">Net::SSH::BufferedIo</a>
  
  
  
    <li><a class="extend" href="../ForwardedBufferedIo.html">Net::SSH::ForwardedBufferedIo</a>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-active_locals">#active_locals</a>
    
    <li ><a href="#method-i-active_remote_destinations">#active_remote_destinations</a>
    
    <li ><a href="#method-i-active_remotes">#active_remotes</a>
    
    <li ><a href="#method-i-agent">#agent</a>
    
    <li ><a href="#method-i-cancel_local">#cancel_local</a>
    
    <li ><a href="#method-i-cancel_remote">#cancel_remote</a>
    
    <li ><a href="#method-i-local">#local</a>
    
    <li ><a href="#method-i-remote">#remote</a>
    
    <li ><a href="#method-i-remote_to">#remote_to</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../../CHANGES_txt.html">CHANGES</a>
  
    <li class="file"><a href="../../../LICENSE_txt.html">LICENSE</a>
  
    <li class="file"><a href="../../../README_rdoc.html">README</a>
  
    <li class="file"><a href="../../../THANKS_txt.html">THANKS</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../../DL.html">DL</a>
  
    <li><a href="../../../DL/Fiddle.html">DL::Fiddle</a>
  
    <li><a href="../../../Net.html">Net</a>
  
    <li><a href="../../../Net/SSH.html">Net::SSH</a>
  
    <li><a href="../../../Net/SSH/Authentication.html">Net::SSH::Authentication</a>
  
    <li><a href="../../../Net/SSH/Authentication/Agent.html">Net::SSH::Authentication::Agent</a>
  
    <li><a href="../../../Net/SSH/Authentication/Agent/Comment.html">Net::SSH::Authentication::Agent::Comment</a>
  
    <li><a href="../../../Net/SSH/Authentication/AgentError.html">Net::SSH::Authentication::AgentError</a>
  
    <li><a href="../../../Net/SSH/Authentication/AgentNotAvailable.html">Net::SSH::Authentication::AgentNotAvailable</a>
  
    <li><a href="../../../Net/SSH/Authentication/Constants.html">Net::SSH::Authentication::Constants</a>
  
    <li><a href="../../../Net/SSH/Authentication/DisallowedMethod.html">Net::SSH::Authentication::DisallowedMethod</a>
  
    <li><a href="../../../Net/SSH/Authentication/ED25519.html">Net::SSH::Authentication::ED25519</a>
  
    <li><a href="../../../Net/SSH/Authentication/ED25519/PrivKey.html">Net::SSH::Authentication::ED25519::PrivKey</a>
  
    <li><a href="../../../Net/SSH/Authentication/ED25519/PubKey.html">Net::SSH::Authentication::ED25519::PubKey</a>
  
    <li><a href="../../../Net/SSH/Authentication/ED25519/SigningKeyFromFile.html">Net::SSH::Authentication::ED25519::SigningKeyFromFile</a>
  
    <li><a href="../../../Net/SSH/Authentication/ED25519Loader.html">Net::SSH::Authentication::ED25519Loader</a>
  
    <li><a href="../../../Net/SSH/Authentication/KeyManager.html">Net::SSH::Authentication::KeyManager</a>
  
    <li><a href="../../../Net/SSH/Authentication/KeyManagerError.html">Net::SSH::Authentication::KeyManagerError</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods.html">Net::SSH::Authentication::Methods</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/Abstract.html">Net::SSH::Authentication::Methods::Abstract</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/Hostbased.html">Net::SSH::Authentication::Methods::Hostbased</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/KeyboardInteractive.html">Net::SSH::Authentication::Methods::KeyboardInteractive</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/None.html">Net::SSH::Authentication::Methods::None</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/Password.html">Net::SSH::Authentication::Methods::Password</a>
  
    <li><a href="../../../Net/SSH/Authentication/Methods/Publickey.html">Net::SSH::Authentication::Methods::Publickey</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant.html">Net::SSH::Authentication::Pageant</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant/Socket.html">Net::SSH::Authentication::Pageant::Socket</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant/Win.html">Net::SSH::Authentication::Pageant::Win</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant/Win/LibC.html">Net::SSH::Authentication::Pageant::Win::LibC</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant/Win/LibC/FFI.html">Net::SSH::Authentication::Pageant::Win::LibC::FFI</a>
  
    <li><a href="../../../Net/SSH/Authentication/Pageant/Win/LibC/FFI/Library.html">Net::SSH::Authentication::Pageant::Win::LibC::FFI::Library</a>
  
    <li><a href="../../../Net/SSH/Authentication/Session.html">Net::SSH::Authentication::Session</a>
  
    <li><a href="../../../Net/SSH/AuthenticationFailed.html">Net::SSH::AuthenticationFailed</a>
  
    <li><a href="../../../Net/SSH/Buffer.html">Net::SSH::Buffer</a>
  
    <li><a href="../../../Net/SSH/BufferedIo.html">Net::SSH::BufferedIo</a>
  
    <li><a href="../../../Net/SSH/ChannelOpenFailed.html">Net::SSH::ChannelOpenFailed</a>
  
    <li><a href="../../../Net/SSH/ChannelRequestFailed.html">Net::SSH::ChannelRequestFailed</a>
  
    <li><a href="../../../Net/SSH/Compat.html">Net::SSH::Compat</a>
  
    <li><a href="../../../Net/SSH/Config.html">Net::SSH::Config</a>
  
    <li><a href="../../../Net/SSH/Connection.html">Net::SSH::Connection</a>
  
    <li><a href="../../../Net/SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a>
  
    <li><a href="../../../Net/SSH/Connection/Constants.html">Net::SSH::Connection::Constants</a>
  
    <li><a href="../../../Net/SSH/Connection/EventLoop.html">Net::SSH::Connection::EventLoop</a>
  
    <li><a href="../../../Net/SSH/Connection/Keepalive.html">Net::SSH::Connection::Keepalive</a>
  
    <li><a href="../../../Net/SSH/Connection/Session.html">Net::SSH::Connection::Session</a>
  
    <li><a href="../../../Net/SSH/Connection/Session/NilChannel.html">Net::SSH::Connection::Session::NilChannel</a>
  
    <li><a href="../../../Net/SSH/Connection/Session/StringWithExitstatus.html">Net::SSH::Connection::Session::StringWithExitstatus</a>
  
    <li><a href="../../../Net/SSH/Connection/SingleSessionEventLoop.html">Net::SSH::Connection::SingleSessionEventLoop</a>
  
    <li><a href="../../../Net/SSH/Connection/Term.html">Net::SSH::Connection::Term</a>
  
    <li><a href="../../../Net/SSH/ConnectionTimeout.html">Net::SSH::ConnectionTimeout</a>
  
    <li><a href="../../../Net/SSH/Disconnect.html">Net::SSH::Disconnect</a>
  
    <li><a href="../../../Net/SSH/Exception.html">Net::SSH::Exception</a>
  
    <li><a href="../../../Net/SSH/ForwardedBufferedIo.html">Net::SSH::ForwardedBufferedIo</a>
  
    <li><a href="../../../Net/SSH/HostKeyError.html">Net::SSH::HostKeyError</a>
  
    <li><a href="../../../Net/SSH/HostKeyMismatch.html">Net::SSH::HostKeyMismatch</a>
  
    <li><a href="../../../Net/SSH/HostKeyUnknown.html">Net::SSH::HostKeyUnknown</a>
  
    <li><a href="../../../Net/SSH/HostKeys.html">Net::SSH::HostKeys</a>
  
    <li><a href="../../../Net/SSH/KeyFactory.html">Net::SSH::KeyFactory</a>
  
    <li><a href="../../../Net/SSH/KeyFactory/OpenSSL.html">Net::SSH::KeyFactory::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/KeyFactory/OpenSSL/PKey.html">Net::SSH::KeyFactory::OpenSSL::PKey</a>
  
    <li><a href="../../../Net/SSH/KnownHosts.html">Net::SSH::KnownHosts</a>
  
    <li><a href="../../../Net/SSH/KnownHosts/OpenSSL.html">Net::SSH::KnownHosts::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/KnownHosts/OpenSSL/PKey.html">Net::SSH::KnownHosts::OpenSSL::PKey</a>
  
    <li><a href="../../../Net/SSH/Loggable.html">Net::SSH::Loggable</a>
  
    <li><a href="../../../Net/SSH/Packet.html">Net::SSH::Packet</a>
  
    <li><a href="../../../Net/SSH/Prompt.html">Net::SSH::Prompt</a>
  
    <li><a href="../../../Net/SSH/Prompt/Prompter.html">Net::SSH::Prompt::Prompter</a>
  
    <li><a href="../../../Net/SSH/Proxy.html">Net::SSH::Proxy</a>
  
    <li><a href="../../../Net/SSH/Proxy/Command.html">Net::SSH::Proxy::Command</a>
  
    <li><a href="../../../Net/SSH/Proxy/ConnectError.html">Net::SSH::Proxy::ConnectError</a>
  
    <li><a href="../../../Net/SSH/Proxy/Error.html">Net::SSH::Proxy::Error</a>
  
    <li><a href="../../../Net/SSH/Proxy/HTTP.html">Net::SSH::Proxy::HTTP</a>
  
    <li><a href="../../../Net/SSH/Proxy/HTTPS.html">Net::SSH::Proxy::HTTPS</a>
  
    <li><a href="../../../Net/SSH/Proxy/HTTPS/SSLSocketCompatibility.html">Net::SSH::Proxy::HTTPS::SSLSocketCompatibility</a>
  
    <li><a href="../../../Net/SSH/Proxy/SOCKS4.html">Net::SSH::Proxy::SOCKS4</a>
  
    <li><a href="../../../Net/SSH/Proxy/SOCKS5.html">Net::SSH::Proxy::SOCKS5</a>
  
    <li><a href="../../../Net/SSH/Proxy/UnauthorizedError.html">Net::SSH::Proxy::UnauthorizedError</a>
  
    <li><a href="../../../Net/SSH/Service.html">Net::SSH::Service</a>
  
    <li><a href="../../../Net/SSH/Service/Forward.html">Net::SSH::Service::Forward</a>
  
    <li><a href="../../../Net/SSH/Test.html">Net::SSH::Test</a>
  
    <li><a href="../../../Net/SSH/Test/Channel.html">Net::SSH::Test::Channel</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions.html">Net::SSH::Test::Extensions</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions/BufferedIo.html">Net::SSH::Test::Extensions::BufferedIo</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions/Channel.html">Net::SSH::Test::Extensions::Channel</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions/IO.html">Net::SSH::Test::Extensions::IO</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions/IO/ClassMethods.html">Net::SSH::Test::Extensions::IO::ClassMethods</a>
  
    <li><a href="../../../Net/SSH/Test/Extensions/PacketStream.html">Net::SSH::Test::Extensions::PacketStream</a>
  
    <li><a href="../../../Net/SSH/Test/Kex.html">Net::SSH::Test::Kex</a>
  
    <li><a href="../../../Net/SSH/Test/LocalPacket.html">Net::SSH::Test::LocalPacket</a>
  
    <li><a href="../../../Net/SSH/Test/Packet.html">Net::SSH::Test::Packet</a>
  
    <li><a href="../../../Net/SSH/Test/RemotePacket.html">Net::SSH::Test::RemotePacket</a>
  
    <li><a href="../../../Net/SSH/Test/Script.html">Net::SSH::Test::Script</a>
  
    <li><a href="../../../Net/SSH/Test/Socket.html">Net::SSH::Test::Socket</a>
  
    <li><a href="../../../Net/SSH/Timeout.html">Net::SSH::Timeout</a>
  
    <li><a href="../../../Net/SSH/Transport.html">Net::SSH::Transport</a>
  
    <li><a href="../../../Net/SSH/Transport/Algorithms.html">Net::SSH::Transport::Algorithms</a>
  
    <li><a href="../../../Net/SSH/Transport/Algorithms/OpenSSL.html">Net::SSH::Transport::Algorithms::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/Transport/Algorithms/OpenSSL/PKey.html">Net::SSH::Transport::Algorithms::OpenSSL::PKey</a>
  
    <li><a href="../../../Net/SSH/Transport/CTR.html">Net::SSH::Transport::CTR</a>
  
    <li><a href="../../../Net/SSH/Transport/CipherFactory.html">Net::SSH::Transport::CipherFactory</a>
  
    <li><a href="../../../Net/SSH/Transport/Constants.html">Net::SSH::Transport::Constants</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC.html">Net::SSH::Transport::HMAC</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/Abstract.html">Net::SSH::Transport::HMAC::Abstract</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/MD5.html">Net::SSH::Transport::HMAC::MD5</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/MD5/OpenSSL.html">Net::SSH::Transport::HMAC::MD5::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/MD5/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::MD5::OpenSSL::Digest</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/MD5_96.html">Net::SSH::Transport::HMAC::MD5_96</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/None.html">Net::SSH::Transport::HMAC::None</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/RIPEMD160.html">Net::SSH::Transport::HMAC::RIPEMD160</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/RIPEMD160/OpenSSL.html">Net::SSH::Transport::HMAC::RIPEMD160::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/RIPEMD160/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::RIPEMD160::OpenSSL::Digest</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA1.html">Net::SSH::Transport::HMAC::SHA1</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA1/OpenSSL.html">Net::SSH::Transport::HMAC::SHA1::OpenSSL</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA1/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::SHA1::OpenSSL::Digest</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA1_96.html">Net::SSH::Transport::HMAC::SHA1_96</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_256.html">Net::SSH::Transport::HMAC::SHA2_256</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_256_96.html">Net::SSH::Transport::HMAC::SHA2_256_96</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_512.html">Net::SSH::Transport::HMAC::SHA2_512</a>
  
    <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_512_96.html">Net::SSH::Transport::HMAC::SHA2_512_96</a>
  
    <li><a href="../../../Net/SSH/Transport/IdentityCipher.html">Net::SSH::Transport::IdentityCipher</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex.html">Net::SSH::Transport::Kex</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroup14SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup14SHA1</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroup1SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup1SHA1</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA1</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA256.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA256</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP256.html">Net::SSH::Transport::Kex::EcdhSHA2NistP256</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP384.html">Net::SSH::Transport::Kex::EcdhSHA2NistP384</a>
  
    <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP521.html">Net::SSH::Transport::Kex::EcdhSHA2NistP521</a>
  
    <li><a href="../../../Net/SSH/Transport/KeyExpander.html">Net::SSH::Transport::KeyExpander</a>
  
    <li><a href="../../../Net/SSH/Transport/PacketStream.html">Net::SSH::Transport::PacketStream</a>
  
    <li><a href="../../../Net/SSH/Transport/ServerVersion.html">Net::SSH::Transport::ServerVersion</a>
  
    <li><a href="../../../Net/SSH/Transport/Session.html">Net::SSH::Transport::Session</a>
  
    <li><a href="../../../Net/SSH/Transport/State.html">Net::SSH::Transport::State</a>
  
    <li><a href="../../../Net/SSH/Verifiers.html">Net::SSH::Verifiers</a>
  
    <li><a href="../../../Net/SSH/Verifiers/Lenient.html">Net::SSH::Verifiers::Lenient</a>
  
    <li><a href="../../../Net/SSH/Verifiers/Null.html">Net::SSH::Verifiers::Null</a>
  
    <li><a href="../../../Net/SSH/Verifiers/Secure.html">Net::SSH::Verifiers::Secure</a>
  
    <li><a href="../../../Net/SSH/Verifiers/Strict.html">Net::SSH::Verifiers::Strict</a>
  
    <li><a href="../../../Net/SSH/Version.html">Net::SSH::Version</a>
  
    <li><a href="../../../OpenSSL.html">OpenSSL</a>
  
    <li><a href="../../../OpenSSL/BN.html">OpenSSL::BN</a>
  
    <li><a href="../../../OpenSSL/Digest.html">OpenSSL::Digest</a>
  
    <li><a href="../../../OpenSSL/PKey.html">OpenSSL::PKey</a>
  
    <li><a href="../../../OpenSSL/PKey/DH.html">OpenSSL::PKey::DH</a>
  
    <li><a href="../../../OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a>
  
    <li><a href="../../../OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a>
  
    <li><a href="../../../OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL</a>
  
    <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey</a>
  
    <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL</a>
  
    <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey</a>
  
    <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey/ECError.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey::ECError</a>
  
    <li><a href="../../../OpenSSL/PKey/PKey.html">OpenSSL::PKey::PKey</a>
  
    <li><a href="../../../OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a>
  
    <li><a href="../../../String.html">String</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Net::SSH::Service::Forward</h1>

  <div id="description" class="description">
    
<p>This class implements various port forwarding services for use by <a
href="../../SSH.html">Net::SSH</a> clients. The <a
href="Forward.html">Forward</a> class should never need to be instantiated
directly; instead, it should be accessed via the singleton instance
returned by <a
href="../Connection/Session.html#method-i-forward">Net::SSH::Connection::Session#forward</a>:</p>

<pre>ssh.forward.local(1234, &quot;www.capify.org&quot;, 80)</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-session" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">session</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The underlying connection service instance that the port-forwarding
services employ.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(session)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Instantiates a new <a href="Forward.html">Forward</a> service instance atop
the given connection service session. This will register new channel open
handlers to handle the specialized channels that the <a
href="../../SSH.html">SSH</a> port forwarding protocols employ.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">session</span>)
  <span class="ruby-ivar">@session</span> = <span class="ruby-identifier">session</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">logger</span>
  <span class="ruby-ivar">@remote_forwarded_ports</span> = {}
  <span class="ruby-ivar">@local_forwarded_ports</span> = {}
  <span class="ruby-ivar">@agent_forwarded</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">on_open_channel</span>(<span class="ruby-string">&#39;forwarded-tcpip&#39;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-value">:forwarded_tcpip</span>))
  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">on_open_channel</span>(<span class="ruby-string">&#39;auth-agent&#39;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-value">:auth_agent_channel</span>))
  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">on_open_channel</span>(<span class="ruby-string">&#39;auth-agent@openssh.com&#39;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-value">:auth_agent_channel</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-active_locals" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">active_locals</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a list of all active locally forwarded ports. The returned value is
an array of arrays, where each element is a two-element tuple consisting of
the local port and bind address corresponding to the forwarding port.</p>
          
          

          
          <div class="method-source-code" id="active_locals-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">active_locals</span>
  <span class="ruby-ivar">@local_forwarded_ports</span>.<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- active_locals-source -->
          
        </div>

        

        
      </div><!-- active_locals-method -->

    
      <div id="method-i-active_remote_destinations" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">active_remote_destinations</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all active remote forwarded ports and where they forward to. The
returned value is a hash from [&lt;forwarding port on the local host&gt;,
&lt;local forwarding address&gt;] to [&lt;port on the remote host&gt;,
&lt;remote bind address&gt;].</p>
          
          

          
          <div class="method-source-code" id="active_remote_destinations-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">active_remote_destinations</span>
  <span class="ruby-ivar">@remote_forwarded_ports</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span>, (<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>)<span class="ruby-operator">|</span>
    <span class="ruby-identifier">result</span>[[<span class="ruby-identifier">local</span>.<span class="ruby-identifier">port</span>, <span class="ruby-identifier">local</span>.<span class="ruby-identifier">host</span>]] = <span class="ruby-identifier">remote</span>
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- active_remote_destinations-source -->
          
        </div>

        

        
      </div><!-- active_remote_destinations-method -->

    
      <div id="method-i-active_remotes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">active_remotes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all active forwarded remote ports. The returned value is an array
of two-element tuples, where the first element is the port on the remote
host and the second is the bind address.</p>
          
          

          
          <div class="method-source-code" id="active_remotes-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">active_remotes</span>
  <span class="ruby-ivar">@remote_forwarded_ports</span>.<span class="ruby-identifier">keys</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- active_remotes-source -->
          
        </div>

        

        
      </div><!-- active_remotes-method -->

    
      <div id="method-i-agent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">agent</span><span
            class="method-args">(channel)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Enables <a href="../../SSH.html">SSH</a> agent forwarding on the given
channel. The forwarded agent will remain active even after the channel
closes–the channel is only used as the transport for enabling the forwarded
connection. You should never need to call this directly–it is called
automatically the first time a session channel is opened, when the
connection was created with :forward_agent set to true:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span>.<span class="ruby-identifier">start</span>(<span class="ruby-string">&quot;remote.host&quot;</span>, <span class="ruby-string">&quot;me&quot;</span>, :<span class="ruby-identifier">forward_agent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ssh</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">ssh</span>.<span class="ruby-identifier">open_channel</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ch</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># agent will be automatically forwarded by this point</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ssh</span>.<span class="ruby-identifier">loop</span>
<span class="ruby-keyword">end</span>
</pre>
          
          

          
          <div class="method-source-code" id="agent-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">agent</span>(<span class="ruby-identifier">channel</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@agent_forwarded</span>
  <span class="ruby-ivar">@agent_forwarded</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">send_channel_request</span>(<span class="ruby-string">&quot;auth-agent-req@openssh.com&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">achannel</span>, <span class="ruby-identifier">success</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">success</span>
      <span class="ruby-identifier">debug</span> { <span class="ruby-string">&quot;authentication agent forwarding is active&quot;</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">achannel</span>.<span class="ruby-identifier">send_channel_request</span>(<span class="ruby-string">&quot;auth-agent-req&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a2channel</span>, <span class="ruby-identifier">success2</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">success2</span>
          <span class="ruby-identifier">debug</span> { <span class="ruby-string">&quot;authentication agent forwarding is active&quot;</span> }
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">error</span> { <span class="ruby-string">&quot;could not establish forwarding of authentication agent&quot;</span> }
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- agent-source -->
          
        </div>

        

        
      </div><!-- agent-method -->

    
      <div id="method-i-cancel_local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel_local</span><span
            class="method-args">(port, bind_address="127.0.0.1")</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Terminates an active local forwarded port. If no such forwarded port
exists, this will raise an exception. Otherwise, the forwarded connection
is terminated.</p>

<pre>ssh.forward.cancel_local(1234)
ssh.forward.cancel_local(1234, &quot;0.0.0.0&quot;)</pre>
          
          

          
          <div class="method-source-code" id="cancel_local-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cancel_local</span>(<span class="ruby-identifier">port</span>, <span class="ruby-identifier">bind_address</span>=<span class="ruby-string">&quot;127.0.0.1&quot;</span>)
  <span class="ruby-identifier">socket</span> = <span class="ruby-ivar">@local_forwarded_ports</span>.<span class="ruby-identifier">delete</span>([<span class="ruby-identifier">port</span>, <span class="ruby-identifier">bind_address</span>])
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">shutdown</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">stop_listening_to</span>(<span class="ruby-identifier">socket</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- cancel_local-source -->
          
        </div>

        

        
      </div><!-- cancel_local-method -->

    
      <div id="method-i-cancel_remote" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel_remote</span><span
            class="method-args">(port, host="127.0.0.1")</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Requests that a remote forwarded port be cancelled. The remote forwarded
port on the remote host, bound to the given address on the remote host,
will be terminated, but not immediately. This method returns immediately
after queueing the request to be sent to the server. If for some reason the
port cannot be cancelled, an exception will be raised (asynchronously).</p>

<p>If you want to know when the connection has been cancelled, it will no
longer be present in the <a
href="Forward.html#method-i-active_remotes">active_remotes</a> list. If you
want to block until the port is no longer active, you could do something
like this:</p>

<pre>ssh.forward.cancel_remote(1234, &quot;0.0.0.0&quot;)
ssh.loop { ssh.forward.active_remotes.include?([1234, &quot;0.0.0.0&quot;]) }</pre>
          
          

          
          <div class="method-source-code" id="cancel_remote-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cancel_remote</span>(<span class="ruby-identifier">port</span>, <span class="ruby-identifier">host</span>=<span class="ruby-string">&quot;127.0.0.1&quot;</span>)
  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">send_global_request</span>(<span class="ruby-string">&quot;cancel-tcpip-forward&quot;</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">host</span>, <span class="ruby-value">:long</span>, <span class="ruby-identifier">port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">success</span>, <span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">success</span>
      <span class="ruby-ivar">@remote_forwarded_ports</span>.<span class="ruby-identifier">delete</span>([<span class="ruby-identifier">port</span>, <span class="ruby-identifier">host</span>])
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-node">&quot;could not cancel remote forward request on #{host}:#{port}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cancel_remote-source -->
          
        </div>

        

        
      </div><!-- cancel_remote-method -->

    
      <div id="method-i-local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Starts listening for connections on the local host, and forwards them to
the specified remote host/port via the <a href="../../SSH.html">SSH</a>
connection. This method accepts either three or four arguments. When four
arguments are given, they are:</p>
<ul><li>
<p>the local address to bind to</p>
</li><li>
<p>the local port to listen on</p>
</li><li>
<p>the remote host to forward connections to</p>
</li><li>
<p>the port on the remote host to connect to</p>
</li></ul>

<p>If three arguments are given, it is as if the local bind address is
“127.0.0.1”, and the rest are applied as above.</p>

<p>To request an ephemeral port on the remote server, provide 0 (zero) for the
port number. In all cases, this method will return the port that has been
assigned.</p>

<pre>ssh.forward.local(1234, &quot;www.capify.org&quot;, 80)
assigned_port = ssh.forward.local(&quot;0.0.0.0&quot;, 0, &quot;www.capify.org&quot;, 80)</pre>
          
          

          
          <div class="method-source-code" id="local-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">local</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;expected 3 or 4 parameters, got #{args.length}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">local_port_type</span> = <span class="ruby-value">:long</span>

  <span class="ruby-identifier">socket</span> = <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">UNIXServer</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">UNIXServer</span>
      <span class="ruby-identifier">local_port_type</span> = <span class="ruby-value">:string</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">bind_address</span> = <span class="ruby-string">&quot;127.0.0.1&quot;</span>
      <span class="ruby-identifier">bind_address</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\D/</span>
      <span class="ruby-identifier">local_port</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">to_i</span>
      <span class="ruby-identifier">local_port_type</span> = <span class="ruby-value">:long</span>
      <span class="ruby-constant">TCPServer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">bind_address</span>, <span class="ruby-identifier">local_port</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">local_port</span> = <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">addr</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">local_port</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-comment"># ephemeral port was requested</span>
  <span class="ruby-identifier">remote_host</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">remote_port</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">to_i</span>

  <span class="ruby-ivar">@local_forwarded_ports</span>[[<span class="ruby-identifier">local_port</span>, <span class="ruby-identifier">bind_address</span>]] = <span class="ruby-identifier">socket</span>

  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">listen_to</span>(<span class="ruby-identifier">socket</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">server</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">client</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">accept</span>
    <span class="ruby-identifier">debug</span> { <span class="ruby-node">&quot;received connection on #{socket}&quot;</span> }

    <span class="ruby-identifier">channel</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">open_channel</span>(<span class="ruby-string">&quot;direct-tcpip&quot;</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">remote_host</span>, <span class="ruby-value">:long</span>, <span class="ruby-identifier">remote_port</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">bind_address</span>, <span class="ruby-identifier">local_port_type</span>, <span class="ruby-identifier">local_port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">achannel</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">achannel</span>.<span class="ruby-identifier">info</span> { <span class="ruby-string">&quot;direct channel established&quot;</span> }
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">prepare_client</span>(<span class="ruby-identifier">client</span>, <span class="ruby-identifier">channel</span>, <span class="ruby-value">:local</span>)

    <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_open_failed</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ch</span>, <span class="ruby-identifier">code</span>, <span class="ruby-identifier">description</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">error</span> { <span class="ruby-node">&quot;could not establish direct channel: #{description} (#{code})&quot;</span> }
      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">stop_listening_to</span>(<span class="ruby-identifier">channel</span>[<span class="ruby-value">:socket</span>])
      <span class="ruby-identifier">channel</span>[<span class="ruby-value">:socket</span>].<span class="ruby-identifier">close</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">local_port</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- local-source -->
          
        </div>

        

        
      </div><!-- local-method -->

    
      <div id="method-i-remote" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remote</span><span
            class="method-args">(port, host, remote_port, remote_host="127.0.0.1") { |remote_port, remote_host| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Requests that all connections on the given remote-port be forwarded via the
local host to the given port/host. The last argument describes the bind
address on the remote host, and defaults to 127.0.0.1.</p>

<p>This method will return immediately, but the port will not actually be
forwarded immediately. If the remote server is not able to begin the
listener for this request, an exception will be raised asynchronously.</p>

<p>To request an ephemeral port on the remote server, provide 0 (zero) for the
port number. The assigned port will show up in the # <a
href="Forward.html#method-i-active_remotes">active_remotes</a> list.</p>

<p>remote_host is interpreted by the server per RFC 4254, which has these
special values:</p>
<ul><li>
<p>“” means that connections are to be accepted on all protocol families
supported by the <a href="../../SSH.html">SSH</a> implementation.</p>
</li><li>
<p>“0.0.0.0” means to listen on all IPv4 addresses.</p>
</li><li>
<p>“::” means to listen on all IPv6 addresses.</p>
</li><li>
<p>“localhost” means to listen on all protocol families supported by the <a
href="../../SSH.html">SSH</a> implementation on loopback addresses only
([RFC3330] and [RFC3513]).</p>
</li><li>
<p>“127.0.0.1” and “::1” indicate listening on the loopback interfaces for
IPv4 and IPv6, respectively.</p>
</li></ul>

<p>You may pass a block that will be called when the the port forward request
receives a response.  This block will be passed the remote_port that was
actually bound to, or nil if the binding failed.  If the block returns
:no_exception, the “failed binding” exception will not be thrown.</p>

<p>If you want to block until the port is active, you could do something like
this:</p>

<pre class="ruby"><span class="ruby-identifier">got_remote_port</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-identifier">remote</span>(<span class="ruby-identifier">port</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">remote_port</span>, <span class="ruby-identifier">remote_host</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">actual_remote_port</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">got_remote_port</span> = <span class="ruby-identifier">actual_remote_port</span> <span class="ruby-operator">||</span> :<span class="ruby-identifier">error</span>
  :<span class="ruby-identifier">no_exception</span> <span class="ruby-comment"># will yield the exception on my own thread</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">session</span>.<span class="ruby-identifier">loop</span> { <span class="ruby-operator">!</span><span class="ruby-identifier">got_remote_port</span> }
<span class="ruby-keyword">if</span> <span class="ruby-identifier">got_remote_port</span> <span class="ruby-operator">==</span> :<span class="ruby-identifier">error</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-string">&quot;remote forwarding request failed&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          
          

          
          <div class="method-source-code" id="remote-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/service/forward.rb, line 165</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remote</span>(<span class="ruby-identifier">port</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">remote_port</span>, <span class="ruby-identifier">remote_host</span>=<span class="ruby-string">&quot;127.0.0.1&quot;</span>)
  <span class="ruby-identifier">session</span>.<span class="ruby-identifier">send_global_request</span>(<span class="ruby-string">&quot;tcpip-forward&quot;</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">remote_host</span>, <span class="ruby-value">:long</span>, <span class="ruby-identifier">remote_port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">success</span>, <span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">success</span>
      <span class="ruby-identifier">remote_port</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_long</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">remote_port</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">debug</span> { <span class="ruby-node">&quot;remote forward from remote #{remote_host}:#{remote_port} to #{host}:#{port} established&quot;</span> }
      <span class="ruby-ivar">@remote_forwarded_ports</span>[[<span class="ruby-identifier">remote_port</span>, <span class="ruby-identifier">remote_host</span>]] = <span class="ruby-constant">Remote</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>)
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">remote_port</span>, <span class="ruby-identifier">remote_host</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">instruction</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-operator">:</span><span class="ruby-identifier">error</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">instruction</span> <span class="ruby-operator">==</span> <span class="ruby-value">:no_exception</span>
        <span class="ruby-identifier">error</span> { <span class="ruby-string">&quot;remote forwarding request failed&quot;</span> }
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-string">&quot;remote forwarding request failed&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remote-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Forward.html#method-i-remote_to">remote_to</a>
        </div>
        

        
      </div><!-- remote-method -->

    
      <div id="method-i-remote_to" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">remote_to</span><span
            class="method-args">(port, host, remote_port, remote_host="127.0.0.1")</span>
          
        </div>
        

        <div class="method-description">
          
          <p>an alias, for token backwards compatibility with the 1.x API</p>
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Forward.html#method-i-remote">remote</a>
        </div>
        
      </div><!-- remote_to-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

