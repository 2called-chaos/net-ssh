<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Net::SSH::KeyFactory - net-ssh 4.0.0.rc1</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/net/ssh/key_factory.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-get">::get</a>
    
    <li ><a href="#method-c-load_data_private_key">::load_data_private_key</a>
    
    <li ><a href="#method-c-load_data_public_key">::load_data_public_key</a>
    
    <li ><a href="#method-c-load_private_key">::load_private_key</a>
    
    <li ><a href="#method-c-load_public_key">::load_public_key</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../CHANGES_txt.html">CHANGES</a>
  
    <li class="file"><a href="../../LICENSE_txt.html">LICENSE</a>
  
    <li class="file"><a href="../../README_rdoc.html">README</a>
  
    <li class="file"><a href="../../THANKS_txt.html">THANKS</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../DL.html">DL</a>
  
    <li><a href="../../DL/Fiddle.html">DL::Fiddle</a>
  
    <li><a href="../../Net.html">Net</a>
  
    <li><a href="../../Net/SSH.html">Net::SSH</a>
  
    <li><a href="../../Net/SSH/Authentication.html">Net::SSH::Authentication</a>
  
    <li><a href="../../Net/SSH/Authentication/Agent.html">Net::SSH::Authentication::Agent</a>
  
    <li><a href="../../Net/SSH/Authentication/Agent/Comment.html">Net::SSH::Authentication::Agent::Comment</a>
  
    <li><a href="../../Net/SSH/Authentication/AgentError.html">Net::SSH::Authentication::AgentError</a>
  
    <li><a href="../../Net/SSH/Authentication/AgentNotAvailable.html">Net::SSH::Authentication::AgentNotAvailable</a>
  
    <li><a href="../../Net/SSH/Authentication/Constants.html">Net::SSH::Authentication::Constants</a>
  
    <li><a href="../../Net/SSH/Authentication/DisallowedMethod.html">Net::SSH::Authentication::DisallowedMethod</a>
  
    <li><a href="../../Net/SSH/Authentication/ED25519.html">Net::SSH::Authentication::ED25519</a>
  
    <li><a href="../../Net/SSH/Authentication/ED25519/PrivKey.html">Net::SSH::Authentication::ED25519::PrivKey</a>
  
    <li><a href="../../Net/SSH/Authentication/ED25519/PubKey.html">Net::SSH::Authentication::ED25519::PubKey</a>
  
    <li><a href="../../Net/SSH/Authentication/ED25519/SigningKeyFromFile.html">Net::SSH::Authentication::ED25519::SigningKeyFromFile</a>
  
    <li><a href="../../Net/SSH/Authentication/ED25519Loader.html">Net::SSH::Authentication::ED25519Loader</a>
  
    <li><a href="../../Net/SSH/Authentication/KeyManager.html">Net::SSH::Authentication::KeyManager</a>
  
    <li><a href="../../Net/SSH/Authentication/KeyManagerError.html">Net::SSH::Authentication::KeyManagerError</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods.html">Net::SSH::Authentication::Methods</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/Abstract.html">Net::SSH::Authentication::Methods::Abstract</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/Hostbased.html">Net::SSH::Authentication::Methods::Hostbased</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/KeyboardInteractive.html">Net::SSH::Authentication::Methods::KeyboardInteractive</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/None.html">Net::SSH::Authentication::Methods::None</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/Password.html">Net::SSH::Authentication::Methods::Password</a>
  
    <li><a href="../../Net/SSH/Authentication/Methods/Publickey.html">Net::SSH::Authentication::Methods::Publickey</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant.html">Net::SSH::Authentication::Pageant</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant/Socket.html">Net::SSH::Authentication::Pageant::Socket</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant/Win.html">Net::SSH::Authentication::Pageant::Win</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant/Win/LibC.html">Net::SSH::Authentication::Pageant::Win::LibC</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant/Win/LibC/FFI.html">Net::SSH::Authentication::Pageant::Win::LibC::FFI</a>
  
    <li><a href="../../Net/SSH/Authentication/Pageant/Win/LibC/FFI/Library.html">Net::SSH::Authentication::Pageant::Win::LibC::FFI::Library</a>
  
    <li><a href="../../Net/SSH/Authentication/Session.html">Net::SSH::Authentication::Session</a>
  
    <li><a href="../../Net/SSH/AuthenticationFailed.html">Net::SSH::AuthenticationFailed</a>
  
    <li><a href="../../Net/SSH/Buffer.html">Net::SSH::Buffer</a>
  
    <li><a href="../../Net/SSH/BufferedIo.html">Net::SSH::BufferedIo</a>
  
    <li><a href="../../Net/SSH/ChannelOpenFailed.html">Net::SSH::ChannelOpenFailed</a>
  
    <li><a href="../../Net/SSH/ChannelRequestFailed.html">Net::SSH::ChannelRequestFailed</a>
  
    <li><a href="../../Net/SSH/Compat.html">Net::SSH::Compat</a>
  
    <li><a href="../../Net/SSH/Config.html">Net::SSH::Config</a>
  
    <li><a href="../../Net/SSH/Connection.html">Net::SSH::Connection</a>
  
    <li><a href="../../Net/SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a>
  
    <li><a href="../../Net/SSH/Connection/Constants.html">Net::SSH::Connection::Constants</a>
  
    <li><a href="../../Net/SSH/Connection/EventLoop.html">Net::SSH::Connection::EventLoop</a>
  
    <li><a href="../../Net/SSH/Connection/Keepalive.html">Net::SSH::Connection::Keepalive</a>
  
    <li><a href="../../Net/SSH/Connection/Session.html">Net::SSH::Connection::Session</a>
  
    <li><a href="../../Net/SSH/Connection/Session/NilChannel.html">Net::SSH::Connection::Session::NilChannel</a>
  
    <li><a href="../../Net/SSH/Connection/Session/StringWithExitstatus.html">Net::SSH::Connection::Session::StringWithExitstatus</a>
  
    <li><a href="../../Net/SSH/Connection/SingleSessionEventLoop.html">Net::SSH::Connection::SingleSessionEventLoop</a>
  
    <li><a href="../../Net/SSH/Connection/Term.html">Net::SSH::Connection::Term</a>
  
    <li><a href="../../Net/SSH/ConnectionTimeout.html">Net::SSH::ConnectionTimeout</a>
  
    <li><a href="../../Net/SSH/Disconnect.html">Net::SSH::Disconnect</a>
  
    <li><a href="../../Net/SSH/Exception.html">Net::SSH::Exception</a>
  
    <li><a href="../../Net/SSH/ForwardedBufferedIo.html">Net::SSH::ForwardedBufferedIo</a>
  
    <li><a href="../../Net/SSH/HostKeyError.html">Net::SSH::HostKeyError</a>
  
    <li><a href="../../Net/SSH/HostKeyMismatch.html">Net::SSH::HostKeyMismatch</a>
  
    <li><a href="../../Net/SSH/HostKeyUnknown.html">Net::SSH::HostKeyUnknown</a>
  
    <li><a href="../../Net/SSH/HostKeys.html">Net::SSH::HostKeys</a>
  
    <li><a href="../../Net/SSH/KeyFactory.html">Net::SSH::KeyFactory</a>
  
    <li><a href="../../Net/SSH/KeyFactory/OpenSSL.html">Net::SSH::KeyFactory::OpenSSL</a>
  
    <li><a href="../../Net/SSH/KeyFactory/OpenSSL/PKey.html">Net::SSH::KeyFactory::OpenSSL::PKey</a>
  
    <li><a href="../../Net/SSH/KnownHosts.html">Net::SSH::KnownHosts</a>
  
    <li><a href="../../Net/SSH/KnownHosts/OpenSSL.html">Net::SSH::KnownHosts::OpenSSL</a>
  
    <li><a href="../../Net/SSH/KnownHosts/OpenSSL/PKey.html">Net::SSH::KnownHosts::OpenSSL::PKey</a>
  
    <li><a href="../../Net/SSH/Loggable.html">Net::SSH::Loggable</a>
  
    <li><a href="../../Net/SSH/Packet.html">Net::SSH::Packet</a>
  
    <li><a href="../../Net/SSH/Prompt.html">Net::SSH::Prompt</a>
  
    <li><a href="../../Net/SSH/Prompt/Prompter.html">Net::SSH::Prompt::Prompter</a>
  
    <li><a href="../../Net/SSH/Proxy.html">Net::SSH::Proxy</a>
  
    <li><a href="../../Net/SSH/Proxy/Command.html">Net::SSH::Proxy::Command</a>
  
    <li><a href="../../Net/SSH/Proxy/ConnectError.html">Net::SSH::Proxy::ConnectError</a>
  
    <li><a href="../../Net/SSH/Proxy/Error.html">Net::SSH::Proxy::Error</a>
  
    <li><a href="../../Net/SSH/Proxy/HTTP.html">Net::SSH::Proxy::HTTP</a>
  
    <li><a href="../../Net/SSH/Proxy/HTTPS.html">Net::SSH::Proxy::HTTPS</a>
  
    <li><a href="../../Net/SSH/Proxy/HTTPS/SSLSocketCompatibility.html">Net::SSH::Proxy::HTTPS::SSLSocketCompatibility</a>
  
    <li><a href="../../Net/SSH/Proxy/SOCKS4.html">Net::SSH::Proxy::SOCKS4</a>
  
    <li><a href="../../Net/SSH/Proxy/SOCKS5.html">Net::SSH::Proxy::SOCKS5</a>
  
    <li><a href="../../Net/SSH/Proxy/UnauthorizedError.html">Net::SSH::Proxy::UnauthorizedError</a>
  
    <li><a href="../../Net/SSH/Service.html">Net::SSH::Service</a>
  
    <li><a href="../../Net/SSH/Service/Forward.html">Net::SSH::Service::Forward</a>
  
    <li><a href="../../Net/SSH/Test.html">Net::SSH::Test</a>
  
    <li><a href="../../Net/SSH/Test/Channel.html">Net::SSH::Test::Channel</a>
  
    <li><a href="../../Net/SSH/Test/Extensions.html">Net::SSH::Test::Extensions</a>
  
    <li><a href="../../Net/SSH/Test/Extensions/BufferedIo.html">Net::SSH::Test::Extensions::BufferedIo</a>
  
    <li><a href="../../Net/SSH/Test/Extensions/Channel.html">Net::SSH::Test::Extensions::Channel</a>
  
    <li><a href="../../Net/SSH/Test/Extensions/IO.html">Net::SSH::Test::Extensions::IO</a>
  
    <li><a href="../../Net/SSH/Test/Extensions/IO/ClassMethods.html">Net::SSH::Test::Extensions::IO::ClassMethods</a>
  
    <li><a href="../../Net/SSH/Test/Extensions/PacketStream.html">Net::SSH::Test::Extensions::PacketStream</a>
  
    <li><a href="../../Net/SSH/Test/Kex.html">Net::SSH::Test::Kex</a>
  
    <li><a href="../../Net/SSH/Test/LocalPacket.html">Net::SSH::Test::LocalPacket</a>
  
    <li><a href="../../Net/SSH/Test/Packet.html">Net::SSH::Test::Packet</a>
  
    <li><a href="../../Net/SSH/Test/RemotePacket.html">Net::SSH::Test::RemotePacket</a>
  
    <li><a href="../../Net/SSH/Test/Script.html">Net::SSH::Test::Script</a>
  
    <li><a href="../../Net/SSH/Test/Socket.html">Net::SSH::Test::Socket</a>
  
    <li><a href="../../Net/SSH/Timeout.html">Net::SSH::Timeout</a>
  
    <li><a href="../../Net/SSH/Transport.html">Net::SSH::Transport</a>
  
    <li><a href="../../Net/SSH/Transport/Algorithms.html">Net::SSH::Transport::Algorithms</a>
  
    <li><a href="../../Net/SSH/Transport/Algorithms/OpenSSL.html">Net::SSH::Transport::Algorithms::OpenSSL</a>
  
    <li><a href="../../Net/SSH/Transport/Algorithms/OpenSSL/PKey.html">Net::SSH::Transport::Algorithms::OpenSSL::PKey</a>
  
    <li><a href="../../Net/SSH/Transport/CTR.html">Net::SSH::Transport::CTR</a>
  
    <li><a href="../../Net/SSH/Transport/CipherFactory.html">Net::SSH::Transport::CipherFactory</a>
  
    <li><a href="../../Net/SSH/Transport/Constants.html">Net::SSH::Transport::Constants</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC.html">Net::SSH::Transport::HMAC</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/Abstract.html">Net::SSH::Transport::HMAC::Abstract</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/MD5.html">Net::SSH::Transport::HMAC::MD5</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/MD5/OpenSSL.html">Net::SSH::Transport::HMAC::MD5::OpenSSL</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/MD5/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::MD5::OpenSSL::Digest</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/MD5_96.html">Net::SSH::Transport::HMAC::MD5_96</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/None.html">Net::SSH::Transport::HMAC::None</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/RIPEMD160.html">Net::SSH::Transport::HMAC::RIPEMD160</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/RIPEMD160/OpenSSL.html">Net::SSH::Transport::HMAC::RIPEMD160::OpenSSL</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/RIPEMD160/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::RIPEMD160::OpenSSL::Digest</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA1.html">Net::SSH::Transport::HMAC::SHA1</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA1/OpenSSL.html">Net::SSH::Transport::HMAC::SHA1::OpenSSL</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA1/OpenSSL/Digest.html">Net::SSH::Transport::HMAC::SHA1::OpenSSL::Digest</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA1_96.html">Net::SSH::Transport::HMAC::SHA1_96</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA2_256.html">Net::SSH::Transport::HMAC::SHA2_256</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA2_256_96.html">Net::SSH::Transport::HMAC::SHA2_256_96</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA2_512.html">Net::SSH::Transport::HMAC::SHA2_512</a>
  
    <li><a href="../../Net/SSH/Transport/HMAC/SHA2_512_96.html">Net::SSH::Transport::HMAC::SHA2_512_96</a>
  
    <li><a href="../../Net/SSH/Transport/IdentityCipher.html">Net::SSH::Transport::IdentityCipher</a>
  
    <li><a href="../../Net/SSH/Transport/Kex.html">Net::SSH::Transport::Kex</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/DiffieHellmanGroup14SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup14SHA1</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/DiffieHellmanGroup1SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup1SHA1</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA1</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA256.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA256</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/EcdhSHA2NistP256.html">Net::SSH::Transport::Kex::EcdhSHA2NistP256</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/EcdhSHA2NistP384.html">Net::SSH::Transport::Kex::EcdhSHA2NistP384</a>
  
    <li><a href="../../Net/SSH/Transport/Kex/EcdhSHA2NistP521.html">Net::SSH::Transport::Kex::EcdhSHA2NistP521</a>
  
    <li><a href="../../Net/SSH/Transport/KeyExpander.html">Net::SSH::Transport::KeyExpander</a>
  
    <li><a href="../../Net/SSH/Transport/PacketStream.html">Net::SSH::Transport::PacketStream</a>
  
    <li><a href="../../Net/SSH/Transport/ServerVersion.html">Net::SSH::Transport::ServerVersion</a>
  
    <li><a href="../../Net/SSH/Transport/Session.html">Net::SSH::Transport::Session</a>
  
    <li><a href="../../Net/SSH/Transport/State.html">Net::SSH::Transport::State</a>
  
    <li><a href="../../Net/SSH/Verifiers.html">Net::SSH::Verifiers</a>
  
    <li><a href="../../Net/SSH/Verifiers/Lenient.html">Net::SSH::Verifiers::Lenient</a>
  
    <li><a href="../../Net/SSH/Verifiers/Null.html">Net::SSH::Verifiers::Null</a>
  
    <li><a href="../../Net/SSH/Verifiers/Secure.html">Net::SSH::Verifiers::Secure</a>
  
    <li><a href="../../Net/SSH/Verifiers/Strict.html">Net::SSH::Verifiers::Strict</a>
  
    <li><a href="../../Net/SSH/Version.html">Net::SSH::Version</a>
  
    <li><a href="../../OpenSSL.html">OpenSSL</a>
  
    <li><a href="../../OpenSSL/BN.html">OpenSSL::BN</a>
  
    <li><a href="../../OpenSSL/Digest.html">OpenSSL::Digest</a>
  
    <li><a href="../../OpenSSL/PKey.html">OpenSSL::PKey</a>
  
    <li><a href="../../OpenSSL/PKey/DH.html">OpenSSL::PKey::DH</a>
  
    <li><a href="../../OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a>
  
    <li><a href="../../OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a>
  
    <li><a href="../../OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL</a>
  
    <li><a href="../../OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey</a>
  
    <li><a href="../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL</a>
  
    <li><a href="../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey</a>
  
    <li><a href="../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey/ECError.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey::ECError</a>
  
    <li><a href="../../OpenSSL/PKey/PKey.html">OpenSSL::PKey::PKey</a>
  
    <li><a href="../../OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a>
  
    <li><a href="../../String.html">String</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Net::SSH::KeyFactory</h1>

  <div id="description" class="description">
    
<p>A factory class for returning new Key classes. It is used for obtaining <a
href="KeyFactory/OpenSSL.html">OpenSSL</a> key instances via their <a
href="../SSH.html">SSH</a> names, and for loading both public and private
keys. It used used primarily by <a href="../SSH.html">Net::SSH</a> itself,
internally, and will rarely (if ever) be directly used by consumers of the
library.</p>

<pre>klass = Net::SSH::KeyFactory.get(&quot;rsa&quot;)
assert klass.is_a?(OpenSSL::PKey::RSA)

key = Net::SSH::KeyFactory.load_public_key(&quot;~/.ssh/id_dsa.pub&quot;)</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="MAP">MAP
        
        <dd class="description"><p>Specifies the mapping of <a href="../SSH.html">SSH</a> names to <a
href="KeyFactory/OpenSSL.html">OpenSSL</a> key classes.</p>
        
      
      </dl>
    </section>
    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-get" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Fetch an <a href="KeyFactory/OpenSSL.html">OpenSSL</a> key instance by its
<a href="../SSH.html">SSH</a> name. It will be a new, empty key of the
given type.</p>
          
          

          
          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/key_factory.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-constant">MAP</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get-source -->
          
        </div>

        

        
      </div><!-- get-method -->

    
      <div id="method-c-load_data_private_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_data_private_key</span><span
            class="method-args">(data, passphrase=nil, ask_passphrase=true, filename="", prompt=Prompt.default)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a private key. It will correctly determine whether the file describes
an RSA or DSA key, and will load it appropriately. The new key is returned.
If the key itself is encrypted (requiring a passphrase to use), the user
will be prompted to enter their password unless passphrase works.</p>
          
          

          
          <div class="method-source-code" id="load_data_private_key-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/key_factory.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_data_private_key</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">passphrase</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">ask_passphrase</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">filename</span>=<span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">prompt</span>=<span class="ruby-constant">Prompt</span>.<span class="ruby-identifier">default</span>)
  <span class="ruby-identifier">key_read</span>, <span class="ruby-identifier">error_classes</span> = <span class="ruby-identifier">classify_key</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">filename</span>)

  <span class="ruby-identifier">encrypted_key</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/ENCRYPTED/</span>)
  <span class="ruby-identifier">tries</span> = <span class="ruby-value">0</span>

  <span class="ruby-identifier">prompter</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">result</span> = 
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">key_read</span>[<span class="ruby-identifier">data</span>, <span class="ruby-identifier">passphrase</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;invalid&#39;</span>]
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">*</span><span class="ruby-identifier">error_classes</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">encrypted_key</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ask_passphrase</span>
        <span class="ruby-identifier">tries</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">tries</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">3</span>
          <span class="ruby-identifier">prompter</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">prompt</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;private_key&#39;</span>, <span class="ruby-identifier">filename</span><span class="ruby-operator">:</span> <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">sha</span><span class="ruby-operator">:</span> <span class="ruby-constant">Digest</span><span class="ruby-operator">::</span><span class="ruby-constant">SHA256</span>.<span class="ruby-identifier">digest</span>(<span class="ruby-identifier">data</span>))
          <span class="ruby-identifier">passphrase</span> = <span class="ruby-identifier">prompter</span>.<span class="ruby-identifier">ask</span>(<span class="ruby-node">&quot;Enter passphrase for #{filename}:&quot;</span>, <span class="ruby-keyword">false</span>)
          <span class="ruby-keyword">retry</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">prompter</span>.<span class="ruby-identifier">success</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">prompter</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_data_private_key-source -->
          
        </div>

        

        
      </div><!-- load_data_private_key-method -->

    
      <div id="method-c-load_data_public_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_data_public_key</span><span
            class="method-args">(data, filename="")</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a public key. It will correctly determine whether the file describes
an RSA or DSA key, and will load it appropriately. The new public key is
returned.</p>
          
          

          
          <div class="method-source-code" id="load_data_public_key-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/key_factory.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_data_public_key</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">filename</span>=<span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">fields</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/ /</span>)

  <span class="ruby-identifier">blob</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">blob</span> = <span class="ruby-identifier">fields</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-operator">!</span><span class="ruby-identifier">blob</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-regexp">/^(ssh-(rsa|dss|ed25519)|ecdsa-sha2-nistp\d+)$/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">blob</span>)
  <span class="ruby-identifier">blob</span> = <span class="ruby-identifier">fields</span>.<span class="ruby-identifier">shift</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>, <span class="ruby-node">&quot;public key at #{filename} is not valid&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">blob</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-identifier">blob</span> = <span class="ruby-identifier">blob</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&quot;m*&quot;</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">reader</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">blob</span>)
  <span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read_key</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">PKey</span><span class="ruby-operator">::</span><span class="ruby-constant">PKeyError</span>, <span class="ruby-node">&quot;not a public key #{filename.inspect}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_data_public_key-source -->
          
        </div>

        

        
      </div><!-- load_data_public_key-method -->

    
      <div id="method-c-load_private_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_private_key</span><span
            class="method-args">(filename, passphrase=nil, ask_passphrase=true, prompt=Prompt.default)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a private key from a file. It will correctly determine whether the
file describes an RSA or DSA key, and will load it appropriately. The new
key is returned. If the key itself is encrypted (requiring a passphrase to
use), the user will be prompted to enter their password unless passphrase
works.</p>
          
          

          
          <div class="method-source-code" id="load_private_key-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/key_factory.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_private_key</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">passphrase</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">ask_passphrase</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">prompt</span>=<span class="ruby-constant">Prompt</span>.<span class="ruby-identifier">default</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">filename</span>))
  <span class="ruby-identifier">load_data_private_key</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">passphrase</span>, <span class="ruby-identifier">ask_passphrase</span>, <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">prompt</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_private_key-source -->
          
        </div>

        

        
      </div><!-- load_private_key-method -->

    
      <div id="method-c-load_public_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_public_key</span><span
            class="method-args">(filename)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a public key from a file. It will correctly determine whether the
file describes an RSA or DSA key, and will load it appropriately. The new
public key is returned.</p>
          
          

          
          <div class="method-source-code" id="load_public_key-source">
            <pre><span class="ruby-comment"># File lib/net/ssh/key_factory.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_public_key</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">filename</span>))
  <span class="ruby-identifier">load_data_public_key</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- load_public_key-source -->
          
        </div>

        

        
      </div><!-- load_public_key-method -->

    
    </section><!-- public-class-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

