<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Net::SSH</title>
    <meta content='text/html; charset=US-ASCII' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <div class='name'>
          <span class='type'>module</span>
          Net::SSH
        </div>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/agent/socket_rb.html">lib/net/ssh/authentication/agent/socket.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/agent_rb.html">lib/net/ssh/authentication/agent.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/constants_rb.html">lib/net/ssh/authentication/constants.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/key_manager_rb.html">lib/net/ssh/authentication/key_manager.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/abstract_rb.html">lib/net/ssh/authentication/methods/abstract.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/hostbased_rb.html">lib/net/ssh/authentication/methods/hostbased.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/keyboard_interactive_rb.html">lib/net/ssh/authentication/methods/keyboard_interactive.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/none_rb.html">lib/net/ssh/authentication/methods/none.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/password_rb.html">lib/net/ssh/authentication/methods/password.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/methods/publickey_rb.html">lib/net/ssh/authentication/methods/publickey.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/authentication/session_rb.html">lib/net/ssh/authentication/session.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/buffer_rb.html">lib/net/ssh/buffer.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/config_rb.html">lib/net/ssh/config.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/connection/channel_rb.html">lib/net/ssh/connection/channel.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/connection/constants_rb.html">lib/net/ssh/connection/constants.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/connection/session_rb.html">lib/net/ssh/connection/session.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/connection/term_rb.html">lib/net/ssh/connection/term.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/errors_rb.html">lib/net/ssh/errors.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/key_factory_rb.html">lib/net/ssh/key_factory.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/known_hosts_rb.html">lib/net/ssh/known_hosts.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/loggable_rb.html">lib/net/ssh/loggable.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/packet_rb.html">lib/net/ssh/packet.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/prompt_rb.html">lib/net/ssh/prompt.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/proxy/command_rb.html">lib/net/ssh/proxy/command.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/proxy/errors_rb.html">lib/net/ssh/proxy/errors.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/proxy/http_rb.html">lib/net/ssh/proxy/http.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/proxy/socks4_rb.html">lib/net/ssh/proxy/socks4.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/proxy/socks5_rb.html">lib/net/ssh/proxy/socks5.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/ruby_compat_rb.html">lib/net/ssh/ruby_compat.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/channel_rb.html">lib/net/ssh/test/channel.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/extensions_rb.html">lib/net/ssh/test/extensions.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/kex_rb.html">lib/net/ssh/test/kex.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/local_packet_rb.html">lib/net/ssh/test/local_packet.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/packet_rb.html">lib/net/ssh/test/packet.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/remote_packet_rb.html">lib/net/ssh/test/remote_packet.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/script_rb.html">lib/net/ssh/test/script.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test/socket_rb.html">lib/net/ssh/test/socket.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/test_rb.html">lib/net/ssh/test.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/algorithms_rb.html">lib/net/ssh/transport/algorithms.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/cipher_factory_rb.html">lib/net/ssh/transport/cipher_factory.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/constants_rb.html">lib/net/ssh/transport/constants.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/hmac/abstract_rb.html">lib/net/ssh/transport/hmac/abstract.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/identity_cipher_rb.html">lib/net/ssh/transport/identity_cipher.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/kex/diffie_hellman_group14_sha1_rb.html">lib/net/ssh/transport/kex/diffie_hellman_group14_sha1.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/kex/diffie_hellman_group1_sha1_rb.html">lib/net/ssh/transport/kex/diffie_hellman_group1_sha1.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/kex/ecdh_sha2_nistp256_rb.html">lib/net/ssh/transport/kex/ecdh_sha2_nistp256.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/kex/ecdh_sha2_nistp384_rb.html">lib/net/ssh/transport/kex/ecdh_sha2_nistp384.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/kex/ecdh_sha2_nistp521_rb.html">lib/net/ssh/transport/kex/ecdh_sha2_nistp521.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/key_expander_rb.html">lib/net/ssh/transport/key_expander.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/packet_stream_rb.html">lib/net/ssh/transport/packet_stream.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/server_version_rb.html">lib/net/ssh/transport/server_version.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/session_rb.html">lib/net/ssh/transport/session.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/transport/state_rb.html">lib/net/ssh/transport/state.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/verifiers/lenient_rb.html">lib/net/ssh/verifiers/lenient.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/verifiers/null_rb.html">lib/net/ssh/verifiers/null.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/verifiers/secure_rb.html">lib/net/ssh/verifiers/secure.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/verifiers/strict_rb.html">lib/net/ssh/verifiers/strict.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh/version_rb.html">lib/net/ssh/version.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/ssh_rb.html">lib/net/ssh.rb</a>
          </li>
          <li>
            <a class='show' href='#' onclick='this.parentNode.parentNode.className += " expanded"; this.parentNode.removeChild(this); return false'>show all</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../Net.html">Net</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p><a href="SSH.html">Net::SSH</a> is a library for interacting,
            programmatically, with remote processes via the SSH2 protocol. Sessions are
            always initiated via <a href="SSH.html#method-c-start">Net::SSH.start</a>.
            From there, a program interacts with the new <a href="SSH.html">SSH</a>
            session via the convenience methods on <a
            href="SSH/Connection/Session.html">Net::SSH::Connection::Session</a>, by
            opening and interacting with new channels
            (Net::SSH::Connection:Session#open_channel and <a
            href="SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a>), or
            by forwarding local and/or remote ports through the connection
            (Net::SSH::Service::Forward).</p>
            
            <p>The <a href="SSH.html">SSH</a> protocol is very event-oriented. Requests
            are sent from the client to the server, and are answered asynchronously.
            This gives great flexibility (since clients can have multiple requests
            pending at a time), but it also adds complexity. <a
            href="SSH.html">Net::SSH</a> tries to manage this complexity by providing
            some simpler methods of synchronous communication (see <a
            href="SSH/Connection/Session.html#method-i-exec-21">Net::SSH::Connection::Session#exec!</a>).</p>
            
            <p>In general, though, and if you want to do anything more complicated than
            simply executing commands and capturing their output, you'll need to use
            channels (<a
            href="SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a>) to
            build state machines that are executed while the event loop runs (<a
            href="SSH/Connection/Session.html#method-i-loop">Net::SSH::Connection::Session#loop</a>).</p>
            
            <p><a href="SSH/Connection/Session.html">Net::SSH::Connection::Session</a> and
            <a href="SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a>
            have more information about this technique.</p>
            
            <h1>"Um, all I want to do is X, just show me how!"</h1>
            
            <h2>X == "execute a command and capture the output"</h2>
            
            <pre>Net::SSH.start(&quot;host&quot;, &quot;user&quot;, :password =&gt; &quot;password&quot;) do |ssh|&#x000A;  result = ssh.exec!(&quot;ls -l&quot;)&#x000A;  puts result&#x000A;end</pre>
            
            <h2>X == "forward connections on a local port to a remote host"</h2>
            
            <pre>Net::SSH.start(&quot;host&quot;, &quot;user&quot;, :password =&gt; &quot;password&quot;) do |ssh|&#x000A;  ssh.forward.local(1234, &quot;www.google.com&quot;, 80)&#x000A;  ssh.loop { true }&#x000A;end</pre>
            
            <h2>X == "forward connections on a remote port to the local host"</h2>
            
            <pre>Net::SSH.start(&quot;host&quot;, &quot;user&quot;, :password =&gt; &quot;password&quot;) do |ssh|&#x000A;  ssh.forward.remote(80, &quot;www.google.com&quot;, 1234)&#x000A;  ssh.loop { true }&#x000A;end</pre>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-configuration_for">configuration_for</a></li>
              <li><a target="docwin" href="#method-c-start">start</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="SSH/Authentication.html">Net::SSH::Authentication</a></li>
              <li><a target="docwin" href="SSH/Connection.html">Net::SSH::Connection</a></li>
              <li><a target="docwin" href="SSH/Loggable.html">Net::SSH::Loggable</a></li>
              <li><a target="docwin" href="SSH/PromptMethods.html">Net::SSH::PromptMethods</a></li>
              <li><a target="docwin" href="SSH/Proxy.html">Net::SSH::Proxy</a></li>
              <li><a target="docwin" href="SSH/Test.html">Net::SSH::Test</a></li>
              <li><a target="docwin" href="SSH/Transport.html">Net::SSH::Transport</a></li>
              <li><a target="docwin" href="SSH/Verifiers.html">Net::SSH::Verifiers</a></li>
              <li><a target="docwin" href="SSH/AuthenticationFailed.html">Net::SSH::AuthenticationFailed</a></li>
              <li><a target="docwin" href="SSH/Buffer.html">Net::SSH::Buffer</a></li>
              <li><a target="docwin" href="SSH/ChannelOpenFailed.html">Net::SSH::ChannelOpenFailed</a></li>
              <li><a target="docwin" href="SSH/ChannelRequestFailed.html">Net::SSH::ChannelRequestFailed</a></li>
              <li><a target="docwin" href="SSH/Compat.html">Net::SSH::Compat</a></li>
              <li><a target="docwin" href="SSH/Config.html">Net::SSH::Config</a></li>
              <li><a target="docwin" href="SSH/ConnectionTimeout.html">Net::SSH::ConnectionTimeout</a></li>
              <li><a target="docwin" href="SSH/Disconnect.html">Net::SSH::Disconnect</a></li>
              <li><a target="docwin" href="SSH/Exception.html">Net::SSH::Exception</a></li>
              <li><a target="docwin" href="SSH/HostKeyError.html">Net::SSH::HostKeyError</a></li>
              <li><a target="docwin" href="SSH/HostKeyMismatch.html">Net::SSH::HostKeyMismatch</a></li>
              <li><a target="docwin" href="SSH/HostKeyUnknown.html">Net::SSH::HostKeyUnknown</a></li>
              <li><a target="docwin" href="SSH/KeyFactory.html">Net::SSH::KeyFactory</a></li>
              <li><a target="docwin" href="SSH/KnownHosts.html">Net::SSH::KnownHosts</a></li>
              <li><a target="docwin" href="SSH/Packet.html">Net::SSH::Packet</a></li>
              <li><a target="docwin" href="SSH/Version.html">Net::SSH::Version</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>Prompt</td>
                    <td>=</td>
                    <td class='context-item-value'>
                      begin
                      require 'highline'
                      HighLine.track_eof = false
                      PromptMethods::Highline
                      rescue LoadError
                      begin
                      require 'termios'
                      PromptMethods::Termios
                      rescue LoadError
                      PromptMethods::Clear
                      end
                      end
                    </td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>Try to load Highline and Termios in turn, selecting the corresponding <a
                      href="SSH/PromptMethods.html">PromptMethods</a> module to use. If neither
                      are available, choose <a
                      href="SSH/PromptMethods/Clear.html">PromptMethods::Clear</a>.</p>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>VALID_OPTIONS</td>
                    <td>=</td>
                    <td class='context-item-value'>
                      [
                      :auth_methods, :bind_address, :compression, :compression_level, :config,
                      :encryption, :forward_agent, :hmac, :host_key,
                      :keepalive, :keepalive_interval, :kex, :keys, :key_data,
                      :languages, :logger, :paranoid, :password, :port, :proxy,
                      :rekey_blocks_limit,:rekey_limit, :rekey_packet_limit, :timeout, :verbose,
                      :global_known_hosts_file, :user_known_hosts_file, :host_key_alias,
                      :host_name, :user, :properties, :passphrase, :keys_only, :max_pkt_size,
                      :max_win_size, :send_env
                      ]
                    </td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>This is the set of options that <a
                      href="SSH.html#method-c-start">Net::SSH.start</a> recognizes. See <a
                      href="SSH.html#method-c-start">Net::SSH.start</a> for a description of each
                      option.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-configuration_for'>
                <a name='method-c-configuration_for'></a>
                <div class='synopsis'>
                  <span class='name'>configuration_for</span>
                  <span class='arguments'>(host, use_ssh_config=true)</span>
                </div>
                <div class='description'>
                  
                  <p>Returns a hash of the configuration options for the given host, as read
                  from the <a href="SSH.html">SSH</a> configuration file(s). If
                  <tt>use_ssh_config</tt> is true (the default), this will load configuration
                  from both ~/.ssh/config and /etc/ssh_config. If <tt>use_ssh_config</tt> is
                  nil or false, nothing will be loaded (and an empty hash returned).
                  Otherwise, <tt>use_ssh_config</tt> may be a file name (or array of file
                  names) of <a href="SSH.html">SSH</a> configuration file(s) to read.</p>
                  
                  <p>See <a href="SSH/Config.html">Net::SSH::Config</a> for the full description
                  of all supported options.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-configuration_for-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-configuration_for-source'><span class="ruby-comment"># File lib/net/ssh.rb, line 230</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">configuration_for</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">use_ssh_config</span>=<span class="ruby-keyword">true</span>)&#x000A;  <span class="ruby-identifier">files</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">use_ssh_config</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Config</span>.<span class="ruby-identifier">default_files</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span> <span class="ruby-keyword">then</span> <span class="ruby-keyword">return</span> {}&#x000A;    <span class="ruby-keyword">else</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">use_ssh_config</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Config</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">files</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-method-c-start'>
                <a name='method-c-start'></a>
                <div class='synopsis'>
                  <span class='name'>start</span>
                  <span class='arguments'>(host, user, options={}, &block)</span>
                </div>
                <div class='description'>
                  
                  <p>The standard means of starting a new <a href="SSH.html">SSH</a> connection.
                  When used with a block, the connection will be closed when the block
                  terminates, otherwise the connection will just be returned. The yielded (or
                  returned) value will be an instance of <a
                  href="SSH/Connection/Session.html">Net::SSH::Connection::Session</a>
                  (q.v.). (See also <a
                  href="SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a> and
                  Net::SSH::Service::Forward.)</p>
                  
                  <pre>Net::SSH.start(&quot;host&quot;, &quot;user&quot;) do |ssh|&#x000A;  ssh.exec! &quot;cp /some/file /another/location&quot;&#x000A;  hostname = ssh.exec!(&quot;hostname&quot;)&#x000A;  ssh.open_channel do |ch|&#x000A;    ch.exec &quot;sudo -p 'sudo password: ' ls&quot; do |ch, success|&#x000A;      abort &quot;could not execute sudo ls&quot; unless success&#x000A;&#x000A;      ch.on_data do |ch, data|&#x000A;        print data&#x000A;        if data =~ /sudo password: /&#x000A;          ch.send_data(&quot;password\n&quot;)&#x000A;        end&#x000A;      end&#x000A;    end&#x000A;  end&#x000A;&#x000A;  ssh.loop&#x000A;end</pre>
                  
                  <p>This method accepts the following options (all are optional):</p>
                  <ul><li>
                  <p>:auth_methods =&gt; an array of authentication methods to try</p>
                  </li><li>
                  <p>:bind_address =&gt; the IP address on the connecting machine to use in
                  establishing connection. (:bind_address is discarded if :proxy is set.)</p>
                  </li><li>
                  <p>:compression =&gt; the compression algorithm to use, or <tt>true</tt> to
                  use whatever is supported.</p>
                  </li><li>
                  <p>:compression_level =&gt; the compression level to use when sending data</p>
                  </li><li>
                  <p>:config =&gt; set to <tt>true</tt> to load the default OpenSSH config files
                  (~/.ssh/config, /etc/ssh_config), or to <tt>false</tt> to not load them, or
                  to a file-name (or array of file-names) to load those specific
                  configuration files. Defaults to <tt>true</tt>.</p>
                  </li><li>
                  <p>:encryption =&gt; the encryption cipher (or ciphers) to use</p>
                  </li><li>
                  <p>:forward_agent =&gt; set to true if you want the <a href="SSH.html">SSH</a>
                  agent connection to be forwarded</p>
                  </li><li>
                  <p>:global_known_hosts_file =&gt; the location of the global known hosts file.
                  Set to an array if you want to specify multiple global known hosts files.
                  Defaults to %w(/etc/ssh/known_hosts /etc/ssh/known_hosts2).</p>
                  </li><li>
                  <p>:hmac =&gt; the hmac algorithm (or algorithms) to use</p>
                  </li><li>
                  <p>:host_key =&gt; the host key algorithm (or algorithms) to use</p>
                  </li><li>
                  <p>:host_key_alias =&gt; the host name to use when looking up or adding a host
                  to a known_hosts dictionary file</p>
                  </li><li>
                  <p>:host_name =&gt; the real host name or IP to log into. This is used instead
                  of the <tt>host</tt> parameter, and is primarily only useful when specified
                  in an <a href="SSH.html">SSH</a> configuration file. It lets you specify an
                  "alias", similarly to adding an entry in /etc/hosts but without needing to
                  modify /etc/hosts. :keepalive =&gt; set to <tt>true</tt> to send a
                  keepalive packet to the <a href="SSH.html">SSH</a> server when there's no
                  traffic between the <a href="SSH.html">SSH</a> server and <a
                  href="SSH.html">Net::SSH</a> client for the keepalive_interval seconds.
                  Defaults to <tt>false</tt>. :keepalive_interval =&gt; the interval seconds
                  for keepalive. Defaults to <tt>300</tt> seconds.</p>
                  </li><li>
                  <p>:kex =&gt; the key exchange algorithm (or algorithms) to use</p>
                  </li><li>
                  <p>:keys =&gt; an array of file names of private keys to use for publickey and
                  hostbased authentication</p>
                  </li><li>
                  <p>:key_data =&gt; an array of strings, with each element of the array being a
                  raw private key in PEM format.</p>
                  </li><li>
                  <p>:keys_only =&gt; set to <tt>true</tt> to use only private keys from
                  <tt>keys</tt> and <tt>key_data</tt> parameters, even if ssh-agent offers
                  more identities. This option is intended for situations where ssh-agent
                  offers many different identites.</p>
                  </li><li>
                  <p>:logger =&gt; the logger instance to use when logging</p>
                  </li><li>
                  <p>:max_pkt_size =&gt; maximum size we tell the other side that is supported
                  per packet. Default is 0x8000 (32768 bytes). Increase to 0x10000 (65536
                  bytes) for better performance if your <a href="SSH.html">SSH</a> server
                  supports it (most do).</p>
                  </li><li>
                  <p>:max_win_size =&gt; maximum size we tell the other side that is supported
                  for the window.</p>
                  </li><li>
                  <p>:paranoid =&gt; either false, true, :very, or :secure specifying how strict
                  host-key verification should be (in increasing order here)</p>
                  </li><li>
                  <p>:passphrase =&gt; the passphrase to use when loading a private key (default
                  is <tt>nil</tt>, for no passphrase)</p>
                  </li><li>
                  <p>:password =&gt; the password to use to login</p>
                  </li><li>
                  <p>:port =&gt; the port to use when connecting to the remote host</p>
                  </li><li>
                  <p>:properties =&gt; a hash of key/value pairs to add to the new connection's
                  properties (see <a
                  href="SSH/Connection/Session.html#attribute-i-properties">Net::SSH::Connection::Session#properties</a>)</p>
                  </li><li>
                  <p>:proxy =&gt; a proxy instance (see <a href="SSH/Proxy.html">Proxy</a>) to
                  use when connecting</p>
                  </li><li>
                  <p>:rekey_blocks_limit =&gt; the max number of blocks to process before
                  rekeying</p>
                  </li><li>
                  <p>:rekey_limit =&gt; the max number of bytes to process before rekeying</p>
                  </li><li>
                  <p>:rekey_packet_limit =&gt; the max number of packets to process before
                  rekeying</p>
                  </li><li>
                  <p>:send_env =&gt; an array of local environment variable names to export to
                  the remote environment. Names may be given as <a
                  href="../String.html">String</a> or Regexp.</p>
                  </li><li>
                  <p>:timeout =&gt; how long to wait for the initial connection to be made</p>
                  </li><li>
                  <p>:user =&gt; the user name to log in as; this overrides the <tt>user</tt>
                  parameter, and is primarily only useful when provided via an <a
                  href="SSH.html">SSH</a> configuration file.</p>
                  </li><li>
                  <p>:user_known_hosts_file =&gt; the location of the user known hosts file. Set
                  to an array to specify multiple user known hosts files. Defaults to
                  %w(~/.ssh/known_hosts ~/.ssh/known_hosts2).</p>
                  </li><li>
                  <p>:verbose =&gt; how verbose to be (Logger verbosity constants, Logger::DEBUG
                  is very verbose, Logger::FATAL is all but silent). Logger::FATAL is the
                  default. The symbols :debug, :info, :warn, :error, and :fatal are also
                  supported and are translated to the corresponding Logger constant.</p>
                  </li></ul>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-start-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-start-source'><span class="ruby-comment"># File lib/net/ssh.rb, line 173</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">block</span>)&#x000A;  <span class="ruby-identifier">invalid_options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">-</span> <span class="ruby-constant">VALID_OPTIONS</span>&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">invalid_options</span>.<span class="ruby-identifier">any?</span>&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;invalid option(s): #{invalid_options.join(', ')}&quot;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-identifier">options</span>[<span class="ruby-value">:user</span>] = <span class="ruby-identifier">user</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>&#x000A;  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">configuration_for</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:config</span>, <span class="ruby-keyword">true</span>)).<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;  <span class="ruby-identifier">host</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:host_name</span>, <span class="ruby-identifier">host</span>)&#x000A;&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:logger</span>)&#x000A;    <span class="ruby-identifier">options</span>[<span class="ruby-value">:logger</span>] = <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">STDERR</span>)&#x000A;    <span class="ruby-identifier">options</span>[<span class="ruby-value">:logger</span>].<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">FATAL</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:verbose</span>]&#x000A;    <span class="ruby-identifier">options</span>[<span class="ruby-value">:logger</span>].<span class="ruby-identifier">level</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:verbose</span>]&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-constant">Fixnum</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:verbose</span>]&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-value">:debug</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">DEBUG</span>&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-value">:info</span>  <span class="ruby-keyword">then</span> <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">INFO</span>&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-value">:warn</span>  <span class="ruby-keyword">then</span> <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">WARN</span>&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-value">:error</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">ERROR</span>&#x000A;      <span class="ruby-keyword">when</span> <span class="ruby-value">:fatal</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">FATAL</span>&#x000A;      <span class="ruby-keyword">else</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;can't convert #{options[:verbose].inspect} to any of the Logger level constants&quot;</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-identifier">transport</span> = <span class="ruby-constant">Transport</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">options</span>)&#x000A;  <span class="ruby-identifier">auth</span> = <span class="ruby-constant">Authentication</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transport</span>, <span class="ruby-identifier">options</span>)&#x000A;&#x000A;  <span class="ruby-identifier">user</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:user</span>, <span class="ruby-identifier">user</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">auth</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-string">&quot;ssh-connection&quot;</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:password</span>])&#x000A;    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transport</span>, <span class="ruby-identifier">options</span>)&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;      <span class="ruby-keyword">begin</span>&#x000A;        <span class="ruby-keyword">yield</span> <span class="ruby-identifier">connection</span>&#x000A;      <span class="ruby-keyword">ensure</span>&#x000A;        <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">closed?</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-keyword">return</span> <span class="ruby-identifier">connection</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">transport</span>.<span class="ruby-identifier">close</span>&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-constant">AuthenticationFailed</span>, <span class="ruby-node">&quot;Authentication failed for user #{user}@#{host}&quot;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
